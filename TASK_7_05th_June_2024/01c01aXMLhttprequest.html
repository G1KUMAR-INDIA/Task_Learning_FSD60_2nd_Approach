<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    // Traditional method of making an API call
    // server >> API 
    
    // XHR OBJECT
    // new keyword
    var req=new XMLHttpRequest();

    //Openning an Connection
    // XMLHttpRequest.open(method: string, url: string | URL)
    req.open('GET','https://restcountries.com/v3.1/all')

    //Sending an Connection || initiating a connect
    req.send()

    console.log(req.response)
    // Event > onload > Window 
    //annoymous function
    req.onload=function(){
        // console.log(req.response)
        var data=JSON.parse(req.response)
        //console.log(data)

        //Name, capital, flag, using forEach method
        
        var Countries= data.filter((elements)=>(elements.name,elements.capital,elements.flag))
        console.log("Name, capital, flag, using forEach method")
        Countries.forEach(element => {
                console.log(`Name:${JSON.stringify(element.name)},Capital:${element.capital},Flag:${element.flag}`)
            });
        console.log(Countries)

        
    }
</script>
</body>
</html>